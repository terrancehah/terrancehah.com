<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Philosophy Sphere - Interactive Ideology Explorer</title>
    
    <!-- Stylesheets -->
    <link href="../styles/output.css" rel="stylesheet">
    <link href="../styles/style.css" type="text/css" rel="stylesheet">
    <link href="philosophy-sphere.css" type="text/css" rel="stylesheet">
    <link rel="icon" href="../resources/TH-logo.png" type="image/x-icon">
    
    <!-- Meta tags -->
    <meta property="og:title" content="Philosophy Sphere - Interactive Ideology Explorer">
    <meta property="og:description" content="Explore philosophical ideologies and their relationships in an interactive 3D visualization">
    <meta property="og:image" content="https://terrancehah.com/resources/TH-logo.png">
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://terrancehah.com/playground/philosophy-sphere.html">
    
    <!-- External libraries for 2D visualization -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    
    <!-- Footer script -->
    <script src="../js/footer.js"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');
    </style>
    
    <!-- Vercel Analytics (only loads on production) -->
    <script>
        window.va = window.va || function () { (window.vaq = window.vaq || []).push(arguments); };
    </script>
    <script defer src="/_vercel/insights/script.js" onerror="console.log('Vercel Analytics not available (local dev)')"></script>
    
    <!-- Vercel Speed Insights (only loads on production) -->
    <script>
        window.si = window.si || function () { (window.siq = window.siq || []).push(arguments); };
    </script>
    <script defer src="/_vercel/speed-insights/script.js" onerror="console.log('Vercel Speed Insights not available (local dev)')"></script>
</head>

<body class="m-0 relative h-full bg-white overflow-x-hidden">
    <!-- Header with navigation -->
    <header class="w-full inline-block">
        <div class="flex flex-col md:flex-row justify-between items-center p-2.5 sm:p-3">
            
            <!-- Left: Logo & Title -->
            <div class="flex flex-col lg:flex-row items-center w-auto md:w-[300px] gap-1">
                <h1 class="font-lato font-semibold text-[#1d3557] text-2xl md:text-3xl p-0 text-center sm:text-left sm:w-auto">
                    Terrance's Playground
                </h1>
            </div>

            <!-- Middle: Nav buttons -->
            <nav class="flex flex-wrap justify-center gap-2">
                <a href="../index.html" class="relative p-2 font-raleway font-medium text-lg md:text-xl text-sky-blue hover:bg-light-blue">Home</a>
                <a href="../articles.html" class="relative p-2 font-raleway font-medium text-lg md:text-xl text-sky-blue hover:bg-light-blue">Articles</a>
                <a href="../projects.html" class="relative p-2 font-raleway font-medium text-lg md:text-xl text-sky-blue hover:bg-light-blue">Projects</a>
                <a href="../playground.html" class="relative p-2 font-raleway font-medium text-lg md:text-xl text-sky-blue hover:bg-light-blue">Playground</a>
            </nav>
        
            <!-- Right side: Social Icons -->
            <div class="flex items-center gap-4 md:gap-3 mt-2 lg:w-[300px] justify-end lg:mt-0">
                <a href="https://facebook.com/terrancehah/" target="_blank" class="w-8 h-8">
                    <img src="../resources/facebook.png" alt="facebook" class="w-full h-full">
                </a>
                <a href="https://instagram.com/terrancehah/" target="_blank" class="w-8 h-8">
                    <img src="../resources/instagram.png" alt="instagram" class="w-full h-full">
                </a>
                <a href="https://x.com/terrance_hah" target="_blank" class="w-8 h-8">
                    <img src="../resources/x.png" alt="x" class="w-full h-full">
                </a>
                <a href="https://www.linkedin.com/in/terrancehah/" target="_blank" class="w-8 h-8">
                    <img src="../resources/linkedin.png" alt="linkedin" class="w-full h-full">
                </a>
                <a href="https://github.com/terrancehah" target="_blank" class="w-8 h-8">
                    <img src="../resources/github.png" alt="github" class="w-full h-full">
                </a>
            </div>
        </div>
    </header>

    <!-- Main content -->
    <main class="philosophy-sphere-container">
        <!-- Controls section -->
        <div class="controls-section">
            <div class="autocomplete-wrapper">
                <input 
                    type="text" 
                    id="search-input" 
                    placeholder="Search philosophies, concepts, or philosophers..." 
                    class="search-input"
                    autocomplete="off"
                />
                <div id="autocomplete-list" class="autocomplete-items"></div>
            </div>
            <button id="language-toggle" class="language-toggle" title="Switch Language">
                <span class="lang-en">中文</span>
                <span class="lang-zh" style="display: none;">EN</span>
            </button>
        </div>

        <!-- Legend (mobile only - outside map) -->
        <div class="legend-mobile">
            <h3 class="legend-title" data-en="Legend" data-zh="图例">Legend</h3>
            <div class="legend-items-mobile">
                <div class="legend-item">
                    <span class="legend-color ideology-color" data-en="Ideology" data-zh="哲学流派">Ideology</span>
                    <span data-en="Major school" data-zh="主要学派">Major school</span>
                </div>
                <div class="legend-item">
                    <span class="legend-color keyword-color" data-en="Concept" data-zh="概念">Concept</span>
                    <span data-en="Related idea" data-zh="相关思想">Related idea</span>
                </div>
                <div class="legend-item">
                    <span class="legend-line influence-line"></span>
                    <span data-en="Influence" data-zh="影响">Influence</span>
                </div>
                <div class="legend-item">
                    <span class="legend-line opposition-line"></span>
                    <span data-en="Opposition" data-zh="对立">Opposition</span>
                </div>
            </div>
        </div>

        <!-- Layout: Info sidebar on left, graph on right -->
        <div class="visualization-layout">
            <!-- Info sidebar (desktop) -->
            <div id="info-sidebar" class="info-sidebar hidden">
                <button id="close-info" class="close-sidebar-button">×</button>
                <div class="info-content">
                    <h3 id="node-title" class="node-title"></h3>
                    <p id="node-philosopher" class="node-philosopher"></p>
                    <div id="node-description" class="node-description"></div>
                </div>
            </div>

            <!-- Graph container -->
            <div id="graph-container" class="graph-container">
                <div class="loading-message">Loading philosophy sphere...</div>
                
                <!-- Floating reset button -->
                <button id="reset-button" class="floating-reset-button" title="Reset View">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"></path>
                        <path d="M21 3v5h-5"></path>
                        <path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"></path>
                        <path d="M3 21v-5h5"></path>
                    </svg>
                </button>
                
                <!-- Legend overlay (desktop only) -->
                <div class="legend-overlay">
                    <h3 class="legend-title" data-en="Legend" data-zh="图例">Legend</h3>
                    <div class="legend-items">
                        <div class="legend-item">
                            <span class="legend-color ideology-color" data-en="Ideology" data-zh="哲学流派">Ideology</span>
                            <span data-en="Major school" data-zh="主要学派">Major school</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color keyword-color" data-en="Concept" data-zh="概念">Concept</span>
                            <span data-en="Related idea" data-zh="相关思想">Related idea</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-line influence-line"></span>
                            <span data-en="Influence" data-zh="影响">Influence</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-line opposition-line"></span>
                            <span data-en="Opposition" data-zh="对立">Opposition</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Mobile modal -->
        <div id="mobile-modal" class="mobile-modal hidden">
            <div class="mobile-modal-content">
                <button id="close-mobile-modal" class="close-modal-button">×</button>
                <div class="mobile-info-content">
                    <h3 id="mobile-node-title" class="node-title"></h3>
                    <p id="mobile-node-philosopher" class="node-philosopher"></p>
                    <div id="mobile-node-description" class="node-description"></div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer will be inserted by footer.js -->
    
    <!-- Main script -->
    <script src="philosophy-sphere-d3.js"></script>
</body>
</html>
