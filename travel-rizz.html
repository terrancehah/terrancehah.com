<!DOCTYPE html>

    <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1">
            <link href="./style.css" type="text/css" rel="stylesheet">
            <link href="./travel-rizz.css" type="text/css" rel="stylesheet">
            <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
            <link rel="icon" type="image/x-icon" href="/resources/TH-logo.png">
            <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
            <meta property="og:title" content="Travel-Rizz - Your friendly AI-powered travel companion.">
            <meta name="og:description" content="Experience the charm of travel planning with Travel-Rizz. Let AI be your guide!">
            <meta property="og:image" content="https://terrancehah.com/resources/TH-logo.jpg">
            <meta property="og:type" content="article">
            <meta property="og:url" content="https://terrancehah.com/travel-planner-index.html">
            <meta name="description" content="Travel-Rizz: Revolutionizing your travel experience with AI-driven ease and charm.">
            <script>window.si = window.si || function () { (window.siq = window.siq || []).push(arguments); };</script>
            <script defer src="/_vercel/speed-insights/script.js"></script>
            <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDvcgBgSprgTRQO_6BWh5EAOPu1vdS6KD4&libraries=places&callback=initAutocomplete" async defer></script>
            <script defer data-domain="terrancehah.com" src="https://plausible.io/js/script.tagged-events.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.min.js"></script>
            <style>
                @import url('https://fonts.googleapis.com/css2?family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');
            </style>
            <title>Travel-Rizz - Your friendly AI-powered travel companion.</title>
        </head>

        <body>
            <header>
                <h1>Travel-Rizz</h1>
                <nav>
                    <a class="navbutton" href="./index.html">Home</a>
                    <a class="navbutton" href="./articles.html">Articles</a>
                    <a class="navbutton active" href="./projects.html">Projects</a>
                    <a class="navbutton" href="./playground.html">Playground</a>
                </nav>
                <a class="contacts" href="https://facebook.com/terrancehah/" target="_blank"><img src="./resources/facebook.png" alt="facebook"></a>
                <a class="contacts" href="https://instagram.com/terrancehah/" target="_blank"><img src="./resources/instagram.png" alt="instagram"></a>
                <a class="contacts" href="https://www.linkedin.com/in/terrancehah/" target="_blank"><img src="./resources/linkedin.png" alt="linkedin"></a>
                <a class="contacts" href="https://github.com/terrancehah" target="_blank"><img src="./resources/github.png" alt="github"></a>
                <style>
                    @import url('https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');
                </style>
            </header>
            
            <main>
                    <video id="background" autoplay loop muted>
                        <source src="./resources/Patagonia_Lake_20X_720P_compressed.mp4" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>

                    <div class="intro-caption">
                        <h1 class="heading">Welcome to Travel-Rizz: 
                            <br>Your Personalized Journey Awaits</h1>
                    <h3 class="subheading">Discover the joy of seamless travel planning with Travel-Rizz, your friendly AI travel assistant.</h3>
                    </div>

                    <div class="itinerary-planner">   
                        <form id="trip-form">
                            <div class="destination-input-form" action="">
                                <input type="search" id="destination"name="city" placeholder="Any place in your mind?" autocomplete="off">
                                <div id="cityList"></div>
                            </div>                
                            <div class="calendar-container">
                                <div class="planner-input-form inline-calendar" id="start-calendar">
                                    <input id="start-date" name="startDate" class="date-picker planner-input-form" placeholder="Start Date" required>
                                </div>
                            </div>
                            <div class="calendar-container">
                                <div class="planner-input-form inline-calendar" id="end-calendar">
                                    <input id="end-date" name="endDate" class="date-picker planner-input-form" placeholder="End Date" required>
                                    <input type="hidden" id="hidden-end-date" name="endDate">
                                </div>
                            </div>
                            <button id="generate-button" type="submit">Take Me There</button>
                            <!-- <button id="loadTestData" type="submit">Load Test Data</button> -->

                        </form>
                    </div>
            </main>

            <div id="popupWindow" class="popup-window">
                <div class="popup-content">
                    <span class="close-btn" onclick="closePopup()">&times;</span>
                    <div id="generatedContent" class="generated-content">
                    </div>
                    <button id="exportPDF">Export as PDF</button>
                </div>
            </div>
            <div id="loadingSpinner" style="display: none;">
                <img id="plane" src="resources/flyingplane.gif"  alt="Loading..."/>
                <p>Fasten your seat belt while we are working on your travel itinerary...</p>
            </div>            

            <footer>
                <h3>Copyright &copy; <script>document.write( new Date().getFullYear() );</script>, Terrance Hah. All rights reserved.</h3>
                <h4>This site uses Plausible Analytics and does not store cookies on your computer.</h4>
            </footer>

            <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

            <script>
                var wrappers = $(".button-wrapper");
            
                $(".submit").click(function(e) {
                    e.preventDefault();
            
                    var clickedWrapper = $(this).parent(".button-wrapper");
            
                    if(!clickedWrapper.hasClass("checked")) {
                        clickedWrapper.addClass("checked");
            
                        setTimeout(function(){
                            window.location.href = $(e.target).attr("href");
                        }, 5000);
            
                        setTimeout(function(){
                            clickedWrapper.removeClass("checked");
                        }, 8000);
                    }
                });
            </script>

            <script async
            src="https://js.stripe.com/v3/buy-button.js">
            </script>

            <script>
                document.addEventListener('DOMContentLoaded', function() {
                    var stripeButton = document.querySelector('.stripe-buy-button');
                    if (stripeButton) {
                        stripeButton.addEventListener('click', function() {
                        plausible('Stripe Purchase Button Click');
                        });
                    }
                });
            </script>

            <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

            <script>
                //City name autocomplete
                function initAutocomplete() {
                    var input = document.getElementById('destination');
                    var autocomplete = new google.maps.places.Autocomplete(input);
                    autocomplete.addListener('place_changed', function() {
                        var place = autocomplete.getPlace();
                        if (!place.geometry) {
                            console.log("No details available for input: '" + place.name + "'");
                            return;
                        }
            
                        // Additional actions upon selecting a place
                        // can be added here if needed.
                    });
                }
            </script>            

            <script>
                var today = new Date();
                var mainCalendar, endCalendar;
                var currentMode = "";

                function initializeCalendar() {
                    var isMobile = window.matchMedia("only screen and (max-width: 1024px)").matches;
                    var wideMode = isMobile ? "mobile" : "desktop";

                    if (currentMode !== wideMode) {
                        // Destroy existing calendars
                        if (mainCalendar) {
                            mainCalendar.destroy();
                            mainCalendar = null;
                        }
                        if (endCalendar) {
                            endCalendar.destroy();
                            endCalendar = null;
                        }

                        //Mobile mode
                        if (isMobile) {
                            // Initialize the mobile calendar in range mode
                            mainCalendar = flatpickr("#start-calendar", {
                                inline: true,
                                dateFormat: "d-m-Y",
                                minDate: today,
                                mode: "range",
                                onChange: function(selectedDates, dateStr) {
                                    var dates = dateStr.split(" to ");
                                    document.getElementById("start-date").value = dates[0];
                                    if(dates.length > 1) {
                                        document.getElementById("hidden-end-date").value = dates[1];
                                    } else {
                                        document.getElementById("hidden-end-date").value = dates[0];
                                    }
                                },
                            });
                            document.getElementById("end-calendar").style.display = 'none';
                            document.getElementById("end-date").required = false;
                        } else {
                            // Initialize the main calendar for desktop in single mode
                            mainCalendar = flatpickr("#start-calendar", {
                                inline: true,
                                dateFormat: "d-m-Y",
                                minDate: today,
                                onChange: function(selectedDates, dateStr) {
                                    document.getElementById("start-date").value = dateStr;
                                    endCalendar.set('minDate', dateStr);
                                },
                            });

                            // Initialize the end calendar for desktop
                            endCalendar = flatpickr("#end-calendar", {
                                inline: true,
                                dateFormat: "d-m-Y",
                                minDate: today,
                                onChange: function(selectedDates, dateStr) {
                                    document.getElementById("end-date").value = dateStr;
                                }
                            });
                            document.getElementById("end-date").required = true;
                            document.getElementById("end-calendar").style.display = 'block';
                        }

                        // Toggle visibility
                        document.getElementById("start-calendar").style.display = 'block';
                        document.getElementById("start-date").style.display = 'relative';
                        document.getElementById("end-date").style.display = isMobile ? 'none' : 'relative';

                        currentMode = wideMode;
                    }
                }

                $(document).ready(function() {
                    initializeCalendar();
                });

                var resizeTimer;
                $(window).resize(function() {
                    clearTimeout(resizeTimer);
                    resizeTimer = setTimeout(initializeCalendar, 250);
                });
            </script>


            <script>
                // Listen to the input, parse into JSON format and receive the JSON format response
                document.getElementById("trip-form").addEventListener("submit", function(e) {
                    e.preventDefault();

                    // Show loading spinner
                    document.getElementById("loadingSpinner").style.display = "block";

                    var isMobile = window.matchMedia("only screen and (max-width: 1024px)").matches;
                    var city = document.getElementById("destination").value;
                    var startDate = document.getElementById("start-date").value;
                    var endDate = isMobile ? document.getElementById("hidden-end-date").value : document.getElementById("end-date").value;

                    var isLocal = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1';
                    const apiUrl = isLocal ? 'http://localhost:3000/api/travel-rizz-server' : '/api/travel-rizz-server';

                    fetch(apiUrl, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({ city, startDate, endDate }),
                    })
                    .then(response => response.json())
                    .then(data => {
                        console.log('Success:', data);
                        document.getElementById("generatedContent").innerHTML = data.generatedContent;


                    document.getElementById("generatedContent").innerHTML = testData;

                        document.getElementById("loadingSpinner").style.display = "none";
                        openPopup();
                    })
                    .catch((error) => {
                        console.error('Error:', error);
                        document.getElementById("loadingSpinner").style.display = "none";
                    });
                });
            </script>
            
            <!-- <script>
                 // Static data for testing
                var testData = "<div class='page-break'><header><img id='logo' src='resources/TH-logo.png' alt='logo'/><h2 id='brand'>Travel-Rizz</h2><h2 id='header-slogan'>Travel-Rizz:Your Personalized Journey Awaits</h2></header><h1>Introduction to Vienna, Austria</h1><p>Vienna, the capital of Austria, is renowned for its rich history, cultural heritage, and stunning architecture. As the former seat of the Habsburg Empire, it is home to an array of historic buildings, museums, and opera houses, making it a center for classical music and the arts.</p><h2>Season, Climate, and Weather Forecast</h2><p>The dates 22-03-2024 to 24-03-2024 fall in the early spring season when Vienna transitions from the cold of winter to the milder temperatures of spring. Weather during this period can be unpredictable, with a chance of both sunny days and spring showers. Temperatures typically range from cool to moderately warm. For the most accurate weather forecast during your travel, <a href=\"https://www.weather.com/\" target=\"_blank\">Weather.com</a> or <a href=\"https://www.accuweather.com/\" target=\"_blank\">AccuWeather</a> provide updated information on local climate conditions.</p><h2>Languages Spoken</h2><p>German is the official language of Vienna, and the majority of the population speaks it. Many residents are bilingual, and a significant proportion of the population speaks English, especially in the service industry, making it quite accessible for international tourists. Other languages commonly spoken due to Vienna's multicultural population include Turkish, Serbian, and Croatian.</p><h2>Population</h2><p>As of the latest estimates, which may vary, Vienna's population stands at approximately 1.9 million inhabitants. It is both the largest city in Austria and its cultural, economic, and political center. The metropolitan area of Vienna extends beyond the city limits, encompassing an even larger population and a broader cultural diversity.</p></div><div class='page-break'><header><img id='logo' src='resources/TH-logo.png' alt='logo'/><h2 id='brand'>Travel-Rizz</h2></header><h1>Travel Details for Vienna, Austria</h1><h2>Currency in Vienna</h2><p>The official currency of Austria is the Euro (EUR). When traveling, it's helpful to have some cash on hand for smaller establishments or tips, though many places accept credit cards. Check the current exchange rate before your trip at <a href=\"https://www.x-rates.com/table/?from=EUR&amount=1\" target=\"_blank\">X-Rates</a>.</p><h2>Safety in Vienna</h2><p>Vienna is considered one of the safest cities in Europe. However, just like in any major city, it's advisable to stay aware of your surroundings, especially in crowded tourist areas and on public transport, where pickpockets may operate. For emergency services, dial 112.</p><h2>Navigation in Vienna</h2><p>Getting around Vienna is convenient with its efficient public transport network consisting of the U-Bahn (subway), trams, and buses. The city also offers extensive bike lanes for cyclists. For public transport information, maps, and ticketing, visit the official Vienna public transport website <a href=\"https://www.wienerlinien.at/eportal3/\" target=\"_blank\">Wiener Linien</a>.</p></div><div class='page-break'><header><img id='logo' src='resources/TH-logo.png' alt='logo'/><h2 id='brand'>Travel-Rizz</h2></header><h1>Vienna Itinerary for 22-03-2024 to 24-03-2024</h1><h2>Day 1: 22nd March 2024</h2><strong>Morning:</strong><p>Start your Viennese adventure at the historic <a href=\"https://www.stephanskirche.at/\" target=\"_blank\">St. Stephen's Cathedral</a>, located in the heart of the city. It's a short walk from Stephansplatz, which is easily accessible by U-Bahn (U1 and U3 lines). After exploring the cathedral, enjoy a stroll through the nearby Graben and Kohlmarkt streets, which are famous for their elegant shopping opportunities.</p><strong>Afternoon:</strong><p>Visit the imperial <a href=\"https://www.hofburg-wien.at/\" target=\"_blank\">Hofburg Palace</a>, a mere 10-minute walk from St. Stephen's Cathedral. Discover the history and luxury that defined the Austro-Hungarian monarchy. Just next door you can indulge in the treasures of the <a href=\"https://www.khm.at/\" target=\"_blank\">Kunsthistorisches Museum</a> (Museum of Art History), reachable by a few minutes' walk or a short tram ride with tram line 1 or 2.</p><strong>Evening:</strong><p>Dine in the charming ambiance of a traditional Viennese restaurant in the vicinity of the museum quarter. Afterwards, take a leisurely evening walk through the beautifully lit streets of the Inner City, culminating with a visit to the nearby <a href=\"https://www.wiener-staatsoper.at/\" target=\"_blank\">Vienna State Opera</a>, where you could catch a world-class performance if you book in advance.</p><strong>Night:</strong><p>Wrap up your night with a visit to a cozy café or a sophisticated wine bar in the Opera area, ideal for relaxing and reflecting on the day's experiences.</p></div><div class='page-break'><header><img id='logo' src='resources/TH-logo.png' alt='logo'/><h2 id='brand'>Travel-Rizz</h2></header><h2>Day 2: 23rd March 2024</h2><strong>Morning:</strong><p>Begin your day at the splendid <a href=\"https://www.belvedere.at/\" target=\"_blank\">Belvedere Palace</a>, which is easily accessible by tram (D, 18, or 71) or by U-Bahn (U1 to Südtiroler Platz). Wander through its Baroque gardens and explore the extensive art collection, including Gustav Klimt's renowned painting \"The Kiss\".</p><strong>Afternoon:</strong><p>Explore the vibrant neighborhood surrounding the <a href=\"https://www.naschmarkt.at/\" target=\"_blank\">Naschmarkt</a>, Vienna’s most popular market. It's within walking distance from the Belvedere. Sample local and international delicacies or pick up some unique souvenirs. Then, take a short walk or tram ride to the nearby <a href=\"https://www.secession.at/\" target=\"_blank\">Secession Building</a> to admire its unique architecture and contemporary art exhibits.</p><strong>Evening:</strong><p>Enjoy dinner at one of the many restaurants lining Naschmarkt. After your meal, take a casual stroll along the Ringstraße, where you can see grand buildings such as the <a href=\"https://www.parlament.gv.at/\" target=\"_blank\">Parliament</a> and <a href=\"https://www.burgtheater.at/\" target=\"_blank\">Burgtheater</a>, which are beautifully illuminated at night.</p><strong>Night:</strong><p>For those interested in late-night culture, consider attending a performance at the Burgtheater or enjoy a classical concert at a venue such as the nearby <a href=\"https://www.musikverein.at/\" target=\"_blank\">Musikverein</a>, home to the Vienna Philharmonic Orchestra.</p></div><div class='page-break'><header><img id='logo' src='resources/TH-logo.png' alt='logo'/><h2 id='brand'>Travel-Rizz</h2></header><h2>Day 3: 24th March 2024</h2><strong>Morning:</strong><p>Start your final day with a visit to the <a href=\"https://www.schoenbrunn.at/\" target=\"_blank\">Schönbrunn Palace</a>, accessible via the U-Bahn (U4 to Schönbrunn station). Explore the former summer residence of the Habsburgs and stroll through its extensive gardens. </p><strong>Afternoon:</strong><p>After soaking in the grandeur of Schönbrunn, take the U4 back towards the city center and get off at Karlsplatz to visit the stunning <a href=\"https://www.karlskirche.at/\" target=\"_blank\">Karlskirche</a> (St. Charles's Church). Following this, enjoy a relaxing afternoon at the nearby <a href=\"https://www.wienmuseum.at/\" target=\"_blank\">Vienna Museum</a>, which offers a deep dive into the city's rich history.</p><strong>Evening:</strong><p>End your day with a visit to the vibrant and trendy <a href=\"https://www.mqw.at/\" target=\"_blank\">MuseumsQuartier</a>, one of the largest cultural quarters in the world. Here, you can find a variety of cafes, restaurants, and bars to choose from for your evening meal.</p><strong>Night:</strong><p>As your trip comes to a close, take a leisurely walk along the Danube River, enjoying the beautiful night views of the city.</p></div><div class='page-break'><header><img id='logo' src='resources/TH-logo.png' alt='logo'/><h2 id='brand'>Travel-Rizz</h2></header><h2>Travel Reminder</h2><p>As you prepare to depart from Vienna, remember to check all your belongings, ensure your travel documents are in order, and arrive at the airport or train station well ahead of your scheduled departure. Vienna's weather can be unpredictable in spring, so be prepared for sudden weather changes. Lastly, don't forget to collect any VAT refunds if applicable and cherish the memories of your splendid Viennese journey!</p></div>";

                document.getElementById('loadTestData').addEventListener('click', function() {
                    document.getElementById("generatedContent").innerHTML = testData;
                    openPopup();
                });
            </script> -->

            <script>
                function openPopup() {
                    document.getElementById("popupWindow").style.display = "block";
                }

                // Function to close the popup
                function closePopup() {
                    document.getElementById("popupWindow").style.display = "none";
                }
            </script>

            <script>
                document.getElementById('exportPDF').addEventListener('click', function(e) {
                    e.preventDefault();

                    var city = document.getElementById("destination").value;
                    var content = document.getElementById("generatedContent");

                    //Show headers
                    var headers = document.querySelectorAll('.generated-content header');
                    headers.forEach(function(header) {
                        header.style.display = 'inline-flex';
                    });

                    var opt = {
                        margin: [0.5, 0.7, 0.5, 0.7], // Top, Right, Bottom, Left in inches
                        filename: city + '-' + 'Travel-Itinerary.pdf',
                        image: { type: 'jpeg', quality: 0.98 },
                        html2canvas: { scale: 2 },
                        jsPDF: { unit: 'in', format: 'a4', orientation: 'portrait' }
                    };

                    html2pdf().from(content).set(opt).save();

                    // Hide headers again
                    setTimeout(function() {
                    headers.forEach(function(header) {
                        header.style.display = 'none';
                    });
                }, 1000); // Adjust delay as needed to ensure PDF has been generated
            });
            </script>


        </body>
        
    </html>
